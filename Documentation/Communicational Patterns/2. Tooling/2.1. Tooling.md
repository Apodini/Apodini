![document type: vision](https://themomax.github.io/resources/markdown-labels/document_type_vision.svg)

# Tooling

A service consists of multiple endpoints. Apodini provides a DSL that allows to define the service's structure using `Component`s. The `Component`-stack is determined on startup and may not change during runtime. `Component`s that provide a `handler` instead of the recursive `content` property define endpoints.

Endpoints are implemented using `Handler`s. A `Handler` has an associated type `Response: ResponseEncodable`. Implementations of the `Handler` protocol are `struct`s which either provide a computed property `handler` (which returns another `Handler` of same type `Response`), or a function `handle() -> Action`. `Action` is an enum that can either be `nothing` or `send(Response)` (a default exists that transforms the result of `handle() -> Response` to `send(handle())`). An endpoint's input is also fixed at startup. Refer to section [2.2. Parameter](./2.2.%20Parameter.md) for more information on this topic.

`Handler`s can use different types of `DynamicProperty` variables. Apodini provides multiple implementations of this protocol that provide different functionality. The implementations are described in the following chapters. Properties on `Handler`s that are a `DynamicProperty` are managed by the Apodini framework. The framework makes sure they are exclusive to one client-service connection. The developer does not have to take care of synchronization. Other properties should be used for static, globally shared content only or references to services that manage access and synchronization themselves.

`Handler`s use their properties either in their `handle` function to process their input, or they use them to determine what `Handler` should be used to `handle` the current status.

[next: 2.2. Parameter](./2.2.%20Parameter.md)  
[previous: 1. Introduction](../1.%20Introduction.md)