{"primaryContentSections":[{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following explanatory code snippets are taken from a "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/lschlesinger\/the-game"},{"type":"text","text":" created to demonstrate the use of the "},{"type":"codeVoice","code":"OpenAPIInterfaceExporter"},{"type":"text","text":" within the Apodini framework."}]},{"anchor":"OpenAPI-Specification","level":2,"type":"heading","text":"OpenAPI Specification"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The OpenAPI Specification (OAS) defines a standard, language-agnostic interface to RESTful APIs which allows both humans and computers to discover and understand the capabilities of the service without access to source code, documentation, or through network traffic inspection."},{"type":"text","text":" "},{"type":"text","text":"An OpenAPI definition can then be used by documentation generation tools to display the API, code generation tools to generate servers and clients in various programming languages, testing tools, and many other use cases."}]},{"anchor":"Usage-in-Apodini-WebService","level":2,"type":"heading","text":"Usage in Apodini `WebService`"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Add "},{"type":"codeVoice","code":"OpenAPI"},{"type":"text","text":" in combination with "},{"type":"codeVoice","code":"REST"},{"type":"text","text":" for a working RESTful API with associated OAS."}]},{"type":"codeListing","syntax":"swift","code":["import Apodini","import ApodiniREST","import ApodiniOpenAPI","","struct TheGameWebService: WebService {","    var content: some Component {","        PlayerComponent()","        GameComponent()","    }","","    var configuration: Configuration {","        REST { ","            \/\/\/ Registers the OpenAPI exporter","            OpenAPI()","        }","    }","}","","try TheGameWebService.main()"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you run the "},{"type":"codeVoice","code":"TestGameWebService.main()"},{"type":"text","text":", the startup log will give you the following output:"}]},{"type":"codeListing","syntax":"plaintext","code":["2021-02-08T21:10:24+0100 info org.apodini.application : OpenAPI specification served in json format on: \/openapi","2021-02-08T21:10:24+0100 info org.apodini.application : Swagger-UI on: \/openapi-ui"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This means that per default a "},{"type":"codeVoice","code":"JSON"},{"type":"text","text":" representation of the OAS is served at "},{"type":"codeVoice","code":"\/openapi"},{"type":"text","text":", whereas the "},{"type":"reference","isActive":true,"identifier":"https:\/\/swagger.io\/tools\/swagger-ui\/"},{"type":"text","text":" can be viewed at "},{"type":"codeVoice","code":"\/openapi-ui"},{"type":"text","text":"."}]},{"anchor":"OpenAPI-specific-Configuration","level":2,"type":"heading","text":"OpenAPI-specific Configuration"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Additionally, you can pass configurations to "},{"type":"codeVoice","code":"OpenAPI"},{"type":"text","text":" in order to specify details of the created OAS document and configure the exporterâ€™s behavior."}]},{"type":"codeListing","syntax":"swift","code":["    var configuration: Configuration {","        REST { ","            \/\/\/ Adds configuration to the OpenAPIExporter","            OpenAPI(","                outputFormat: .yaml,","                outputEndpoint: \"\/docs\/openapi\",","                swaggerUiEndpoint: \"\/ui\/swagger\",","                title: \"The Game - Endangered Nature Edition, built with Apodini\")","        }","    }"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This overwrites the default endpoints, changes the output format to "},{"type":"codeVoice","code":"YAML"},{"type":"text","text":", and provides a custom title to the OAS document."}]},{"anchor":"Generating-Client-SDKs-from-OpenAPI-Specification","level":2,"type":"heading","text":"Generating Client SDKs from OpenAPI Specification"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The easiest way for creating client SDKs from an OAS document is to use "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/swagger-api\/swagger-codegen"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"There are several possibilities to install "},{"type":"codeVoice","code":"swagger-codegen"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"On macOS you can simply install it using "},{"type":"codeVoice","code":"brew"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":"shell","code":["brew install swagger-codegen"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"After installing "},{"type":"codeVoice","code":"swagger-codegen"},{"type":"text","text":", invoke it as follows, for instance to generate an API client library (i.e., client SDK) for an Angular Typescript client:"}]},{"type":"codeListing","syntax":"shell","code":["swagger-codegen generate -i OPEN_API_INPUT -l typescript-angular -o OUTPUT_DIR"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"where "},{"type":"codeVoice","code":"OPEN_API_INPUT"},{"type":"text","text":" is the URL to the OAS document served by your Apodini "},{"type":"codeVoice","code":"WebService"},{"type":"text","text":", e.g., "},{"type":"codeVoice","code":"http:\/\/localhost\/openapi"},{"type":"text","text":" by default."}]},{"anchor":"Providing-Customized-API-Descriptions","level":2,"type":"heading","text":"Providing Customized API Descriptions"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you do not further specify descriptions, the "},{"type":"codeVoice","code":"OpenAPIInterfaceExporter"},{"type":"text","text":" will create a basic OAS document with predefined defaults."},{"type":"text","text":" "},{"type":"text","text":"You may overwrite these by making use of the "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/Apodini\/Apodini\/blob\/develop\/Sources\/Apodini\/Modifier\/DescriptionModifier.swift"},{"type":"text","text":" as well as the "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/Apodini\/Apodini\/blob\/develop\/Sources\/ApodiniOpenAPI\/Modifier\/TagModifier.swift"},{"type":"text","text":" on "},{"type":"codeVoice","code":"Handler"},{"type":"text","text":" level."}]},{"type":"codeListing","syntax":"swift","code":["struct GameComponent: Component {","    @PathParameter","    var gameId: String","","    var content: some Component {","        Group(\"game\") {","            GetGames()","                .description(\"Returns all games.\")  \/\/ Specify a meaningful description of the endpoint.","                .tags(\"api-game\")  \/\/ Specify a list of tags for this endpoint.","            \/\/ More handlers below... ","        }","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Restart your Apodini "},{"type":"codeVoice","code":"WebService"},{"type":"text","text":" after these modifications and you will see the results in the plain OAS document, the Swagger-UI, as well as in generated client SDKs."}]},{"anchor":"Accessing-OpenAPI-Specification-inside-Apodini-WebService","level":2,"type":"heading","text":"Accessing OpenAPI Specification inside Apodini `WebService`"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In case you want to use the OAS document inside your "},{"type":"codeVoice","code":"WebService"},{"type":"text","text":", you may access it as follows:"}]},{"type":"codeListing","syntax":"swift","code":["\/\/ `app` is of type `Apodini.Application`.","let storage = app.storage.get(OpenAPIStorageKey.self)","let document: OpenAPI.Document? = storage?.document  \/\/ The OAS document as exported by `OpenAPIInterfaceExporter`. "]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/apodini\/openapi"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Apodini\/documentation\/Apodini\/OpenAPI","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"This document provides a short introduction to using the "},{"type":"codeVoice","code":"OpenAPIInterfaceExporter"},{"type":"text","text":", a static exporter for Apodini."},{"type":"text","text":" "},{"type":"text","text":"It can be used to expose an OpenAPI specification (version 3.0.3) for an exported RESTful API, as done by the "},{"type":"codeVoice","code":"RESTInterfaceExporter"},{"type":"text","text":"."}],"kind":"article","metadata":{"roleHeading":"Article","title":"OpenAPI Interface Exporter","role":"article","modules":[{"name":"Apodini"}]},"hierarchy":{"paths":[["doc:\/\/Apodini\/documentation\/Apodini"]]},"seeAlsoSections":[{"title":"Ecosystem","identifiers":["doc:\/\/Apodini\/documentation\/Apodini\/DatabaseConnection","doc:\/\/Apodini\/documentation\/Apodini\/Authorization","doc:\/\/Apodini\/documentation\/Apodini\/PushNotifications","doc:\/\/Apodini\/documentation\/Apodini\/Jobs","doc:\/\/Apodini\/documentation\/Apodini\/Observe"],"generated":true}],"references":{"https://github.com/Apodini/Apodini/blob/develop/Sources/ApodiniOpenAPI/Modifier/TagModifier.swift":{"title":"TagModifier","titleInlineContent":[{"type":"codeVoice","code":"TagModifier"}],"type":"link","identifier":"https:\/\/github.com\/Apodini\/Apodini\/blob\/develop\/Sources\/ApodiniOpenAPI\/Modifier\/TagModifier.swift","url":"https:\/\/github.com\/Apodini\/Apodini\/blob\/develop\/Sources\/ApodiniOpenAPI\/Modifier\/TagModifier.swift"},"https://github.com/lschlesinger/the-game":{"title":"sample project","titleInlineContent":[{"type":"text","text":"sample project"}],"type":"link","identifier":"https:\/\/github.com\/lschlesinger\/the-game","url":"https:\/\/github.com\/lschlesinger\/the-game"},"doc://Apodini/documentation/Apodini/Jobs":{"role":"collectionGroup","title":"Jobs","abstract":[{"type":"text","text":"A guide to schedule repeating tasks in Apodini."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Jobs","kind":"article","type":"topic","url":"\/documentation\/apodini\/jobs"},"doc://Apodini/documentation/Apodini/Metadata":{"role":"collectionGroup","title":"Metadata","abstract":[{"type":"text","text":"Map requirements of your web service into the implementation."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Metadata","kind":"article","type":"topic","url":"\/documentation\/apodini\/metadata"},"doc://Apodini/documentation/Apodini/Observe":{"role":"collectionGroup","title":"Observe a web service","abstract":[{"type":"text","text":"Instrument an Apodini web service to make it observable."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Observe","kind":"article","type":"topic","url":"\/documentation\/apodini\/observe"},"doc://Apodini/documentation/Apodini":{"role":"collection","title":"Apodini","abstract":[{"type":"text","text":"A declarative, composable framework to build web services using Swift."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini","kind":"symbol","type":"topic","url":"\/documentation\/apodini"},"doc://Apodini/documentation/Apodini/PushNotifications":{"role":"collectionGroup","title":"Push Notifications","abstract":[{"type":"text","text":"A guide to use push notifications in Apodini."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/PushNotifications","kind":"article","type":"topic","url":"\/documentation\/apodini\/pushnotifications"},"https://github.com/swagger-api/swagger-codegen":{"title":"swagger-codegen","titleInlineContent":[{"type":"codeVoice","code":"swagger-codegen"}],"type":"link","identifier":"https:\/\/github.com\/swagger-api\/swagger-codegen","url":"https:\/\/github.com\/swagger-api\/swagger-codegen"},"doc://Apodini/documentation/Apodini/Authorization":{"role":"collectionGroup","title":"Apodini Authorization","abstract":[{"type":"text","text":"Formulate Authorization Requirements using the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Metadata"},{"type":"text","text":" system."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Authorization","kind":"article","type":"topic","url":"\/documentation\/apodini\/authorization"},"https://github.com/Apodini/Apodini/blob/develop/Sources/Apodini/Modifier/DescriptionModifier.swift":{"title":"DescriptionModifier","titleInlineContent":[{"type":"codeVoice","code":"DescriptionModifier"}],"type":"link","identifier":"https:\/\/github.com\/Apodini\/Apodini\/blob\/develop\/Sources\/Apodini\/Modifier\/DescriptionModifier.swift","url":"https:\/\/github.com\/Apodini\/Apodini\/blob\/develop\/Sources\/Apodini\/Modifier\/DescriptionModifier.swift"},"doc://Apodini/documentation/Apodini/DatabaseConnection":{"role":"collectionGroup","title":"Database Connection","abstract":[{"type":"text","text":"Connect Apodini project to a database system."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/DatabaseConnection","kind":"article","type":"topic","url":"\/documentation\/apodini\/databaseconnection"},"https://swagger.io/tools/swagger-ui/":{"title":"Swagger-UI","titleInlineContent":[{"type":"text","text":"Swagger-UI"}],"type":"link","identifier":"https:\/\/swagger.io\/tools\/swagger-ui\/","url":"https:\/\/swagger.io\/tools\/swagger-ui\/"}}}