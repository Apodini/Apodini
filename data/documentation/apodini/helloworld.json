{"seeAlsoSections":[{"title":"Getting Started","identifiers":["doc:\/\/Apodini\/documentation\/Apodini\/Installation"],"generated":true}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following example defines a simple web service consisting of a greeting message."},{"type":"text","text":" "},{"type":"text","text":"Let’s take a look to the simple usage of Apodini framework:"}]},{"type":"codeListing","syntax":"swift","code":["import Apodini","import ApodiniHTTP","","struct Greeter: Handler {","    @Parameter var country: String?","","    func handle() -> String {","        \"Hello, \\(country ?? \"World\")!\"","    }","}","","struct HelloWorld: WebService {","    var configuration: Configuration {","        HTTP()","    }","","    var content: some Component {","        Greeter()","    }","}","","HelloWorld.main()"]},{"anchor":"Import-Package","level":3,"type":"heading","text":"Import Package"},{"type":"paragraph","inlineContent":[{"type":"text","text":"We need to import "},{"type":"codeVoice","code":"Apodini"},{"type":"text","text":" and at least one package providing a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Configuration"},{"type":"text","text":" which bootstraps an "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/InterfaceExporter"},{"type":"text","text":". In our example, this package is "},{"type":"codeVoice","code":"ApodiniHTTP"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":"swift","code":["import Apodini","import ApodiniHTTP"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"By choosing "},{"type":"codeVoice","code":"ApodiniHTTP"},{"type":"text","text":", we decide that our application-logic should be accessible using the HTTP protocol stack."}]},{"anchor":"Create-a-Simple-Handler","level":3,"type":"heading","text":"Create a Simple Handler"},{"type":"paragraph","inlineContent":[{"type":"text","text":"We create our first "},{"type":"codeVoice","code":"Handler"},{"type":"text","text":" instance:"}]},{"type":"codeListing","syntax":"swift","code":["struct Greeter: Handler {","    @Parameter var country: String?","","    func handle() -> String {","        \"Hello, \\(country ?? \"World\")!\"","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Handler"},{"type":"text","text":" is a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Component"},{"type":"text","text":" within Apodini which exposes user-facing functionality. It always comes with a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Handler\/handle()-1xtna"},{"type":"text","text":" function which is called every time a request reaches it."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Our "},{"type":"codeVoice","code":"Greeter"},{"type":"text","text":" defines a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Parameter"},{"type":"text","text":" called "},{"type":"codeVoice","code":"country"},{"type":"text","text":". The parameter must be of type "},{"type":"codeVoice","code":"String?"},{"type":"text","text":". Since that is an optional type, it can also be omitted from the request."}]},{"style":"tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"See also: "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/PathParameter"},{"type":"text","text":" express parameters that are exposed as part of the endpoint identifier (e.g. the HTTP URL)."}]}],"type":"aside","name":"Tip"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Handler\/handle()-1xtna"},{"type":"text","text":" function uses the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Parameter"},{"type":"text","text":" to generate a response. In our case, this response is also of type "},{"type":"codeVoice","code":"String"},{"type":"text","text":"."}]},{"anchor":"Define-Web-Services","level":3,"type":"heading","text":"Define Web Services"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following block includes the configuration and content of an Apodini web service."}]},{"type":"codeListing","syntax":"swift","code":["struct HelloWorld: WebService {","    var configuration: Configuration {","        HTTP()","    }","","    var content: some Component {","        Greeter()","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Each Apodini project consist of a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/WebService"},{"type":"text","text":" instance which describes the Web API."},{"type":"text","text":" "},{"type":"text","text":"It includes the "},{"type":"codeVoice","code":"configuration"},{"type":"text","text":" and "},{"type":"codeVoice","code":"content"},{"type":"text","text":" to define the structure of the web service."},{"type":"text","text":" "},{"type":"text","text":"Those components could be a collection of other "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Component"},{"type":"text","text":" instances or of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Handler"},{"type":"text","text":" type."},{"type":"text","text":" "},{"type":"text","text":"In this case, we use the "},{"type":"codeVoice","code":"HTTP"},{"type":"text","text":" configuration and put our "},{"type":"codeVoice","code":"Greeter"},{"type":"text","text":" Handler at the root of our web service."}]},{"anchor":"Execute-Apodini-Web-Service","level":3,"type":"heading","text":"Execute Apodini Web Service"},{"type":"paragraph","inlineContent":[{"type":"text","text":"We have to execute this line of code to start up an Apodini "},{"type":"codeVoice","code":"WebService"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["HelloWorld.main()"]},{"anchor":"View-Web-Request-in-Action","level":3,"type":"heading","text":"View Web Request in Action"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Now you can send a request to see your new server in action!"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Visit "},{"type":"reference","isActive":true,"identifier":"http:\/\/localhost"},{"type":"text","text":" will return:"}]},{"type":"codeListing","syntax":"swift","code":["\"Hello, World!\""]},{"type":"paragraph","inlineContent":[{"type":"text","text":"or "},{"type":"reference","isActive":true,"identifier":"http:\/\/localhost?country=Italy"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":"swift","code":["\"Hello, Italy!\""]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Note that you don’t just see "},{"type":"codeVoice","code":"Hello, World!"},{"type":"text","text":", but "},{"type":"codeVoice","code":"\"Hello, World!\""},{"type":"text","text":" as a string. That is because - by default - "},{"type":"codeVoice","code":"ApodiniHTTP"},{"type":"text","text":" encodes\/decodes data as JSON."}]}]}],"variants":[{"paths":["\/documentation\/apodini\/helloworld"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Apodini\/documentation\/Apodini\/HelloWorld","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"A minimal Apodini web service."}],"kind":"article","metadata":{"modules":[{"name":"Apodini"}],"role":"collectionGroup","title":"Hello, World!"},"hierarchy":{"paths":[["doc:\/\/Apodini\/documentation\/Apodini"]]},"topicSections":[{"title":"Web Service Elements","identifiers":["doc:\/\/Apodini\/documentation\/Apodini\/Component","doc:\/\/Apodini\/documentation\/Apodini\/Handler","doc:\/\/Apodini\/documentation\/Apodini\/WebService","doc:\/\/Apodini\/documentation\/Apodini\/Configuration","doc:\/\/Apodini\/documentation\/Apodini\/InterfaceExporter"]},{"title":"Handler Properties","identifiers":["doc:\/\/Apodini\/documentation\/Apodini\/Property","doc:\/\/Apodini\/documentation\/Apodini\/Parameter","doc:\/\/Apodini\/documentation\/Apodini\/PathParameter","doc:\/\/Apodini\/documentation\/Apodini\/Environment"]}],"references":{"doc://Apodini/documentation/Apodini/Configuration":{"role":"symbol","title":"Configuration","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Configuration"}],"abstract":[{"type":"codeVoice","code":"Configuration"},{"type":"text","text":"s are used to register services to Apodini."},{"type":"text","text":" "},{"type":"text","text":"Each "},{"type":"codeVoice","code":"Configuration"},{"type":"text","text":" handles different kinds of services."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Configuration","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Configuration"}],"url":"\/documentation\/apodini\/configuration"},"http://localhost?country=Italy":{"title":"http:\/\/localhost?country=Italy","titleInlineContent":[{"type":"text","text":"http:\/\/localhost?country=Italy"}],"type":"link","identifier":"http:\/\/localhost?country=Italy","url":"http:\/\/localhost?country=Italy"},"doc://Apodini/documentation/Apodini/Handler/handle()-1xtna":{"conformance":{"constraints":[{"type":"codeVoice","code":"Response"},{"type":"text","text":" is "},{"type":"codeVoice","code":"_EmptyComponentCustomNeverImpl"},{"type":"text","text":"."}],"availabilityPrefix":[{"type":"text","text":"Available when"}],"conformancePrefix":[{"type":"text","text":"Conforms when"}]},"role":"symbol","title":"handle()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"handle"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Response"}],"abstract":[{"type":"text","text":"Default implementation which will simply crash"}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Handler\/handle()-1xtna","kind":"symbol","type":"topic","url":"\/documentation\/apodini\/handler\/handle()-1xtna"},"doc://Apodini/documentation/Apodini":{"role":"collection","title":"Apodini","abstract":[{"type":"text","text":"A declarative, composable framework to build web services using Swift."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini","kind":"symbol","type":"topic","url":"\/documentation\/apodini"},"doc://Apodini/documentation/Apodini/Environment":{"role":"symbol","title":"Environment","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Environment"}],"abstract":[{"type":"text","text":"A property wrapper to inject pre-defined values  to a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Component"},{"type":"text","text":"."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Environment","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Environment"}],"url":"\/documentation\/apodini\/environment"},"doc://Apodini/documentation/Apodini/Parameter":{"role":"symbol","title":"Parameter","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Parameter"}],"abstract":[{"type":"text","text":"The "},{"type":"codeVoice","code":"@Parameter"},{"type":"text","text":" property wrapper can be used to express input in "},{"type":"codeVoice","code":"Components"}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Parameter","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Parameter"}],"url":"\/documentation\/apodini\/parameter"},"doc://Apodini/documentation/Apodini/Property":{"role":"symbol","title":"Property","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Property"}],"abstract":[{"type":"text","text":"This protocol is implemented by all of Apodini’s property wrappers that are used access functionality or information on a handling "},{"type":"codeVoice","code":"Component"},{"type":"text","text":"."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Property","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Property"}],"url":"\/documentation\/apodini\/property"},"doc://Apodini/documentation/Apodini/WebService":{"role":"symbol","title":"WebService","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"WebService"}],"abstract":[{"type":"text","text":"Each Apodini program consists of a "},{"type":"codeVoice","code":"WebService"},{"type":"text","text":"component that is used to describe the Web API of the Web Service"}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/WebService","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"WebService"}],"url":"\/documentation\/apodini\/webservice"},"doc://Apodini/documentation/Apodini/InterfaceExporter":{"role":"symbol","title":"InterfaceExporter","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"InterfaceExporter"}],"abstract":[{"type":"text","text":"An "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/InterfaceExporter"},{"type":"text","text":" is a type which requires access to the web service’s structure and"},{"type":"text","text":" "},{"type":"text","text":"internals."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/InterfaceExporter","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"InterfaceExporter"}],"url":"\/documentation\/apodini\/interfaceexporter"},"doc://Apodini/documentation/Apodini/Component":{"role":"symbol","title":"Component","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Component"}],"abstract":[{"type":"text","text":"A "},{"type":"codeVoice","code":"Component"},{"type":"text","text":" is the central building block of  Apodini. Each component handles a specific functionality of the Apodini web service."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Component","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Component"}],"url":"\/documentation\/apodini\/component"},"http://localhost":{"title":"http:\/\/localhost","titleInlineContent":[{"type":"text","text":"http:\/\/localhost"}],"type":"link","identifier":"http:\/\/localhost","url":"http:\/\/localhost"},"doc://Apodini/documentation/Apodini/PathParameter":{"role":"symbol","title":"PathParameter","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"PathParameter"}],"abstract":[{"type":"text","text":"A "},{"type":"codeVoice","code":"@PathComponent"},{"type":"text","text":" can be used in "},{"type":"codeVoice","code":"Component"},{"type":"text","text":"s to indicate that a part of a path is a parameter and can be read out in a "},{"type":"codeVoice","code":"Handler"}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/PathParameter","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PathParameter"}],"url":"\/documentation\/apodini\/pathparameter"},"doc://Apodini/documentation/Apodini/Handler":{"role":"symbol","title":"Handler","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Handler"}],"abstract":[{"type":"text","text":"A "},{"type":"codeVoice","code":"Handler"},{"type":"text","text":" is a "},{"type":"codeVoice","code":"Component"},{"type":"text","text":" which defines an endpoint and can handle requests."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Handler","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Handler"}],"url":"\/documentation\/apodini\/handler"},"doc://Apodini/documentation/Apodini/Installation":{"role":"collectionGroup","title":"Installation","abstract":[{"type":"text","text":"Create a new Apodini project or add Apodini to the existing project."}],"identifier":"doc:\/\/Apodini\/documentation\/Apodini\/Installation","kind":"article","type":"topic","url":"\/documentation\/apodini\/installation"}}}